<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
</head>
<body>
  <script>
    // Your JavaScript goes here!
      // Set up the computer's selection
      function computerPlay() {
          let randomNum = Math.floor(Math.random()*3); // random number multiplied by numbers of options (3)
          if (randomNum === 0) {
              return "rock";
          } else if (randomNum === 1) {
              return "paper";
          } else {
              return "scissors";
          }
      };
      // Set up a round of rock paper scissors
      function playRound(playerSelection, computerSelection) {
          let player = playerSelection.toLowerCase(); // Convert player input to lowercase
          let computer = computerSelection;
          switch(player) { // Use switch to define what happens depending on player input
              case "rock": // 
                  if (computer === "rock") { // Use if else if statements to return the results of the round
                      return "Draw! You selected " + player + " and the computer selected " + computer;
                  } else if (computer === "scissors") {
                      return "You win! " + player + " breaks " + computer;
                  } else {
                      return "You lose! " + computer + " covers " + player;
                  };
                  break;
              case "scissors":
                  if (computer === "rock") {
                      return "You lose! " + computer + " breaks " + player;
                  } else if (computer === "scissors") {
                      return "Draw! You selected " + player + " and the computer selected " + computer;
                  } else {
                      return "You win! " + player + " cuts " + computer;
                  };
                  break;
              case "paper":
                  if (computer === "rock") {
                      return "You win! " + player + " covers " + computer;
                  } else if (computer === "scissors") {
                      return "You lose! " + computer + " cuts " + player;
                  } else {
                      return "Draw! You selected " + player + " and the computer selected " + computer;
                  };
                  break;
              default:
                  return "Not a valid response"; // case for any other responses (not valid)
                  break;
          };
      };
      // Set up a five round game of rock paper scissors and declare a winner
      function game() {
          let computerSelection = ''; 
          let playerSelection = ''; 
          let playerScore = 0;
          let computerScore = 0;
          let roundResult = '';
          let i = 0;
          // loop through five rounds
          for (i = 0; i < 5; i++) {
              playerSelection = prompt('Type rock, paper, or scissors'); // prompt for player's choice 
              computerSelection = computerPlay();
              roundResult = playRound(playerSelection, computerSelection); // round result from playRound() cases
              if (roundResult.indexOf('win') != -1) { // check for keyword "win" from playRound
                  ++playerScore;
              } else if (roundResult.indexOf('lose') != -1) { // check for keyword lose
                  ++computerScore;
              } else if (roundResult.indexOf('valid') != -1) { // alert for invalid input and subtract from the loop iteration
                  --i;
                 alert('Invalid response, try again');
              } else { // this last else acts as the case for a draw
              }
          }
          if (playerScore > computerScore) { // determine a winner
              return 'You win! ' + playerScore + ' to ' + computerScore;
          } else if (playerScore < computerScore) {
              return 'You lose! ' + computerScore + ' to ' + playerScore;
          } else {
              return 'Draw! ' + playerScore + ' to ' + computerScore;
          }
      }
      console.log(game());
  </script>
</body>
</html>
