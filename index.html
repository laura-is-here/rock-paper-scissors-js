<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
</head>
<body>
  <script>
    // Your JavaScript goes here!
      function computerPlay() {
          let randomNum = Math.floor(Math.random()*3);
          if (randomNum === 0) {
              return "rock";
          } else if (randomNum === 1) {
              return "paper";
          } else {
              return "scissors";
          }
      };
      function playRound(playerSelection, computerSelection) {
          let player = playerSelection.toLowerCase();
          let computer = computerSelection.toLowerCase();
          switch(player) {
              case "rock":
                  if (computer === "rock") {
                      return "Draw! You selected " + player + " and the computer selected " + computer;
                  } else if (computer === "scissors") {
                      return "You win! " + player + " breaks " + computer;
                  } else {
                      return "You lose! " + computer + " covers " + player;
                  };
                  break;
              case "scissors":
                  if (computer === "rock") {
                      return "You lose! " + computer + " breaks " + player;
                  } else if (computer === "scissors") {
                      return "Draw! You selected " + player + " and the computer selected " + computer;
                  } else {
                      return "You win! " + player + " cuts " + computer;
                  };
                  break;
              case "paper":
                  if (computer === "rock") {
                      return "You win! " + player + " covers " + computer;
                  } else if (computer === "scissors") {
                      return "You lose! " + computer + " cuts " + player;
                  } else {
                      return "Draw! You selected " + player + " and the computer selected " + computer;
                  };
                  break;
              default:
                  return "Not a valid response";
                  break;
          };
      };
      function game() {
          let computerSelection = ''; 
          let playerSelection = ''; 
          let playerScore = 0;
          let computerScore = 0;
          let roundResult = '';
          let i = 0;
          for (i = 0; i < 5; i++) {
              playerSelection = prompt('Type rock, paper, or scissors'); 
              computerSelection = computerPlay();
              roundResult = playRound(playerSelection, computerSelection);
              if (roundResult.indexOf('win') != -1) {
                  ++playerScore;
              } else if (roundResult.indexOf('lose') != -1) {
                  ++computerScore;
              } else if (roundResult.indexOf('valid') != -1) {
                  --i;
                 alert('Invalid response, try again');
              } else {
              }
          }
          if (playerScore > computerScore) {
              return 'You win! ' + playerScore + ' to ' + computerScore;
          } else if (playerScore < computerScore) {
              return 'You lose! ' + computerScore + ' to ' + playerScore;
          } else {
              return 'Draw! ' + playerScore + ' to ' + computerScore;
          }
      }
      console.log(game());
          /*let roundOneResult = playRound(playerSelection, computerSelection);
          playerSelection = prompt('Type rock, paper, or scissors'); 
          let roundTwoResult = playRound(playerSelection, computerSelection);
          playerSelection = prompt('Type rock, paper, or scissors'); 
          let roundThreeResult = playRound(playerSelection, computerSelection);
          playerSelection = prompt('Type rock, paper, or scissors'); 
          let roundFourResult = playRound(playerSelection, computerSelection);
          playerSelection = prompt('Type rock, paper, or scissors'); 
          let roundFiveResult = playRound(playerSelection, computerSelection);
          playerSelection = prompt('Type rock, paper, or scissors'); 

          if (roundOneResult.indexOf('win') === true) {
              ++playerScore;
          } else if (roundOneResult.indexOf('lose') === true) {
              ++computerScore;
          } else {
              return;
          }
          if (roundTwoResult.indexOf('win') === true) {
              ++playerScore;
          } else if (roundOneResult.indexOf('lose') === true) {
              ++computerScore;
          } else {
              return;
          }
          if (roundThreeResult.indexOf('win') === true) {
              ++playerScore;
          } else if (roundOneResult.indexOf('lose') === true) {
              ++computerScore;
          } else {
              return;
          }
          if (roundFourResult.indexOf('win') === true) {
              ++playerScore;
          } else if (roundOneResult.indexOf('lose') === true) {
              ++computerScore;
          } else {
              return;
          }
          if (roundFiveResult.indexOf('win') === true) {
              ++playerScore;
          } else if (roundOneResult.indexOf('lose') === true) {
              ++computerScore;
          } else {
              return;
          }
      };
      game();
      console.log(game());*/
  </script>
</body>
</html>
